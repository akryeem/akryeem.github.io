<!DOCTYPE html>
<html>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script><meta name="viewport" content="width=device-width, initial-scale=1">
<body>
  
    <p>Click the button to check 
      if the browser is online.</p>
  
    <button onclick="isOnline2()">
      Click Me
  </button>
  
    <p id="demo">Online</p>
  
    <script>
      function isOnline2() {

    $.ajax({ 
        url  : "/test_connection.html", /* or other resource */
        type : "HEAD",
              cache: false,

          statusCode: {
        200: function() {
           alert("Succesfully connected!");
            document.getElementById("demo").innerHTML = "Succesfully connected!";
      console.log( "online200");
          location.reload(1);
    },
        304: function() {
            document.getElementById("demo").innerHTML = "online304!";
                     alert("online304!");

      console.log( "online304");
          location.reload(1);
    },
        404: function() {
            document.getElementById("demo").innerHTML = "Sorry, we currently do not have Internet access!";
          alert("Sorry, we currently do not have Internet access.");
      console.log( "page not found");
    }
    }
    });
    }
           
      function isOnline(no,yes){
    var xhr = XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHttp');
    xhr.onload = function(){
        if(yes instanceof Function){
            yes();
        }
    }
    xhr.onerror = function(){
        if(no instanceof Function){
            no();
        }
    }
    xhr.open("GET","anypage.php",true);
    xhr.send();
}

isOnline(
    function(){
        alert("Sorry, we currently do not have Internet access.");
    },
    function(){
        alert("Succesfully connected!");
    }
);
        function isOnline1() {
  
            if (navigator.onLine) {
                document.getElementById(
                  "demo").innerHTML = "Online";
            } else {
                document.getElementById(
                  "demo").innerHTML = "Offline";
            }
          isOnline(
    function(){
        alert("Sorry, we currently do not have Internet access.");
    },
    function(){
        alert("Succesfully connected!");
    }
);
        }
    </script>
  
</body>
  
</html>
